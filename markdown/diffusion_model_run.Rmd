---
editor_options:
  chunk_output_type: console
---
# Library calls
```{r setup}
library(tidyverse)
library(rio)
library(data.table)

ggplot2::theme_set(theme_classic()) # setting default theme

# Diffusion model packages
library(RWiener)
library(brms)
library(rtdists)

# Rstan
library(rstan)
options(mc.cores = parallel::detectCores())
rstan_options(auto_write = TRUE)

```

```{r functions}

```

```{r data}
data_robust <- rio::import("./markdown/data/diffusion_data_robust.Rdata")
```

```{r set-formula}
formula <- bf( # Do I want an intercept here?
  rt | dec(decision) ~ 1 + rsi:error_factor + (1 + rsi:error_factor|id),
  bs ~ 1 + rsi:error_factor + (1 + rsi:error_factor|id),
  ndt ~ 1 + rsi:error_factor + (1 + rsi:error_factor|id),
  bias ~ 1 + rsi:error_factor + (1 + rsi:error_factor|id)
)
```

```{r get-prior}
get_prior(
  formula = formula,
  data = data_robust,
  family = wiener(
    link_bs = "identity",
    link_ndt = "identity", 
    link_bias = "identity"
    )
)
```

